var DOMLoaded=function(){var shuffleInstance,Shuffle=window.Shuffle,autoSuggestInput=document.getElementById("autoSuggest"),theatersSearchSelection=document.querySelector(".theatersSearchSelection"),cinemaIdParam=localStorage.getItem("yqac_cinemaId"),cinemaName=localStorage.getItem("yqac_cinemaName"),genreArray=Array.from(document.querySelectorAll(".filter-options button")),periodArray=Array.from(document.querySelectorAll(".period-options option")),criticArray=Array.from(document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)")),nationalityArray=Array.from(document.querySelectorAll(".nav-item.nationalityButton:not(.mainToggleNationality)")),durationArray=Array.from(document.querySelectorAll(".nav-item.durationButton:not(.mainToggleDuration)")),starsArray=Array.from(document.querySelectorAll(".nav-item.starsButton:not(.mainToggleStars)")),gridContainerElement=document.querySelector("#grid"),criticInput=document.querySelector(".nav-item.criticAllocine"),nationalityInput=document.querySelector(".nav-item.mainToggleNationality"),durationInput=document.querySelector(".nav-item.mainToggleDuration"),starsInput=document.querySelector(".nav-item.mainToggleStars"),criticToggle0=document.querySelector("#criticToggle0").parentNode.parentNode,nationalityButton0=document.querySelector("#nationalityButton0").parentNode.parentNode,durationButton0=document.querySelector("#durationButton0").parentNode.parentNode,starsButton0=document.querySelector("#starsButton0").parentNode.parentNode,userRatingLi=document.querySelector(".nav-item.userRating"),imdbUserRatingLi=document.querySelector(".nav-item.imdbUserRating"),betaseriesUserRatingLi=document.querySelector(".nav-item.betaseriesUserRating"),periodOption=document.querySelector(".period-options"),criticLi=document.querySelector(".criticRatings"),nationalityLi=document.querySelector(".nationalityPreferences"),durationLi=document.querySelector(".durationPreferences"),starsLi=document.querySelector(".starsPreferences"),tglDarkmode=document.querySelector(".tgl-darkmode"),criticNull=!1,criticNumberBool=!1,nationalityNumberBool=!1,durationNumberBool=!1,starsNumberBool=!1,localbuttonCriticNameNumber=0,localbuttonNationalityNameNumber=0,localbuttonDurationNameNumber=0,localbuttonStarsNameNumber=0,movieSeenSpan=document.querySelector(".mainButtonTitle2Span");const darkmode=new Darkmode({mixColor:"#FFFFFF",backgroundColor:"#EDEDED",autoMatchOsTheme:!1});var url=new URL(window.location);const params=new URLSearchParams(url.search);function getseasonsCritic(seasonsCritic){if(null!=seasonsCritic){for(var seasonsCriticLength=Object.keys(seasonsCritic).length,seasonsCriticArrayTemp=[],seasonsCriticIndex=1;seasonsCriticIndex<=seasonsCriticLength;seasonsCriticIndex++){var seasonsCriticValue=seasonsCritic["id"+seasonsCriticIndex];seasonsCriticArrayTemp.push(seasonsCriticValue)}return seasonsCriticArrayTemp}}function normalizeStr(str){var map={_:" |-",a:"ä|á|à|ã|â|Ä|À|Á|Ã|Â",e:"ë|é|è|ê|Ë|É|È|Ê",i:"ï|í|ì|î|Ï|Í|Ì|Î",o:"ö|ó|ò|ô|õ|Ö|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};if(null!=str)for(var pattern in map)str=str.replace(new RegExp(map[pattern],"g"),pattern);return str}function splitDate(altFormat){var newDate=altFormat.split(" "),altFormat=!0;switch(newDate[1]){case"Jan":case"janvier":newDate[1]="01";break;case"Feb":case"février":newDate[1]="02";break;case"Mar":case"mars":newDate[1]="03";break;case"Apr":case"avril":newDate[1]="04";break;case"May":case"mai":newDate[1]="05";break;case"Jun":case"juin":newDate[1]="06";break;case"Jul":case"juillet":newDate[1]="07";break;case"Aug":case"août":newDate[1]="08";break;case"Sep":case"septembre":newDate[1]="09";break;case"Oct":case"octobre":newDate[1]="10";break;case"Nov":case"novembre":newDate[1]="11";break;case"Dec":case"décembre":newDate[1]="12";break;default:newDate[1]=""}return(altFormat="Mon"==newDate[0]||"Tue"==newDate[0]||"Wed"==newDate[0]||"Thu"==newDate[0]||"Fri"==newDate[0]||"Sat"==newDate[0]||"Sun"==newDate[0]?!1:altFormat)?newDate[1]+"/"+newDate[0]+"/"+newDate[2]:newDate[1]+"/"+newDate[2]+"/"+newDate[3]}function dateCheck(firstDateNew,lastDateNew,dateToCheckNew){firstDateNew=Date.parse(firstDateNew),lastDateNew=Date.parse(lastDateNew),dateToCheckNew=Date.parse(dateToCheckNew);return dateToCheckNew<=lastDateNew&&firstDateNew<=dateToCheckNew}function retrieveLocalData(item){return"true"==item||"false"!=item&&(localStorage.setItem("yqac_critic.criticAllocine","true"),localStorage.setItem("yqac_critic.usersAllocine","true"),localStorage.setItem("yqac_critic.usersImdb","true"),localStorage.setItem("yqac_critic.usersBetaseries","true"),1)}function hashtagFormatted(string){return string.replace(/\s+/g,"").replace("'","").replace("?","").replace(",","").replace("-","").replace(":","")}function removeItems(){localStorage.removeItem("yqac_sort.critic"),localStorage.removeItem("yqac_sort.creationdate"),localStorage.removeItem("yqac_sort.popularity")}function handleSearchKeyup(evt){var searchText=null==evt.target?evt:evt.target.value.toLowerCase();shuffleInstance.filter(function(element,shuffle){if(shuffle.group!==Shuffle.ALL_ITEMS&&!(-1!==JSON.parse(element.getAttribute("data-groups")).indexOf(shuffle.group)))return!1;return-1!==element.querySelector(".picture-item__title").textContent.toLowerCase().trim().indexOf(searchText)})}function handleOptionChange(){filters.periodArray=periodArray.filter(function(option){return option.selected}).map(function(option){return option.value}),"NoFilter"==filters.periodArray&&(filters.periodArray=[]),filter()}function filter(){!function(){return Object.keys(filters).some(function(key){return 0<filters[key].length},this)}()?shuffleInstance.filter(Shuffle.ALL_ITEMS):shuffleInstance.filter(function(element){var periodArray=filters.periodArray,genreArray=filters.genreArray,nationalityArray=filters.nationalityArray,durationArray=filters.durationArray,starsArray=filters.starsArray,optionNew=element.getAttribute("data-date-formatted").split(","),buttonNew=element.getAttribute("data-genre").split(","),nationalityNew=element.getAttribute("data-nationality").split(","),durationNew=element.getAttribute("data-duration").split(","),starsNew=element.getAttribute("data-stars").split(",");if(0<periodArray.length&&!periodArray.some(r=>optionNew.includes(r)))return!1;if(0<genreArray.length&&!genreArray.some(r=>buttonNew.includes(r)))return!1;if(0<nationalityArray.length&&!nationalityArray.some(r=>nationalityNew.includes(r)))return!1;if(0<durationArray.length&&!durationArray.some(r=>durationNew.includes(r)))return!1;if(0<starsArray.length&&!starsArray.some(r=>starsNew.includes(r)))return!1;return!0}.bind(this))}function toggleMode(){"additive"===localStorage.getItem("yqac_mode.mode")?localStorage.setItem("yqac_mode.mode","exclusive"):localStorage.setItem("yqac_mode.mode","additive")}function toggleDarkmode(){darkmode.toggle(),getDarkmodeStatus()}function convertNumberToStars(ratingTemp){rating=ratingTemp%1!=.5&&ratingTemp%1!=0?Math.round(ratingTemp):ratingTemp;var output=[];for(let index=1;index<=rating;index++)output.push('<i class="fas fa-star"></i>');Number.isInteger(rating)||output.push('<i class="fas fa-star-half-alt"></i>');for(let index=1;index<=5-rating;index++)output.push('<i class="far fa-star"></i>');return output.join("")}function getDarkmodeStatus(){var body=document.body;"true"==localStorage.getItem("yqac_darkmode.darkmode")||body.classList.contains("darkmode--activated")?(tglDarkmode.classList.add("far"),tglDarkmode.classList.remove("fas")):(tglDarkmode.classList.remove("far"),tglDarkmode.classList.add("fas"))}function toggleLocalData(item){var classListName=item.currentTarget.parentNode.parentNode.classList[1],classListNameActive=localStorage.getItem("yqac_critic."+classListName),getItemType=classListName.replace("mainToggle","").toLowerCase(),classListNameActive2=localStorage.getItem("yqac_"+getItemType+"."+classListName);"criticAllocine"!=classListName&&"usersAllocine"!=classListName&&"usersImdb"!=classListName&&"usersBetaseries"!=classListName||localStorage.setItem("yqac_menu.menuBool",!0),"criticAllocine"==classListName?"true"==classListNameActive?(item.currentTarget.innerHTML='Tout sélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>',item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_critic."+classListName,"false")):(item.currentTarget.innerHTML='Tout désélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>',item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_critic."+classListName,"true")):"usersAllocine"==classListName?"true"==classListNameActive?(userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber criticNumberZero">0</span>',item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_critic."+classListName,"false")):(userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber">1</span>',item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_critic."+classListName,"true")):"usersImdb"==classListName?"true"==classListNameActive?(imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>',item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_critic."+classListName,"false")):(imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber">1</span>',item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_critic."+classListName,"true")):"usersBetaseries"==classListName?"true"==classListNameActive?(betaseriesUserRatingLi.children[1].children[0].innerHTML='<i class="icon-betaseries"></i> Spectateurs BetaSeries<span class="criticNumber criticNumberZero">0</span>',item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_critic."+classListName,"false")):(betaseriesUserRatingLi.children[1].children[0].innerHTML='<i class="icon-betaseries"></i> Spectateurs BetaSeries<span class="criticNumber">1</span>',item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_critic."+classListName,"true")):"mainToggleNationality"==classListName?"true"==classListNameActive2?(item.currentTarget.innerHTML='Tout sélectionner<span><input id="nationalityButton0" type="checkbox"><label for="nationalityButton0"></label></span>',item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_"+getItemType+"."+classListName,"false")):(item.currentTarget.innerHTML='Tout désélectionner<span><input id="nationalityButton0" type="checkbox"><label for="nationalityButton0"></label></span>',item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_"+getItemType+"."+classListName,"true")):"mainToggleDuration"==classListName?"true"==classListNameActive2?(item.currentTarget.innerHTML='Tout sélectionner<span><input id="durationButton0" type="checkbox"><label for="durationButton0"></label></span>',item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_"+getItemType+"."+classListName,"false")):(item.currentTarget.innerHTML='Tout désélectionner<span><input id="durationButton0" type="checkbox"><label for="durationButton0"></label></span>',item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_"+getItemType+"."+classListName,"true")):"mainToggleStars"==classListName&&("true"==classListNameActive2?(item.currentTarget.innerHTML='Tout sélectionner<span><input id="starsButton0" type="checkbox"><label for="starsButton0"></label></span>',item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_"+getItemType+"."+classListName,"false")):(item.currentTarget.innerHTML='Tout désélectionner<span><input id="starsButton0" type="checkbox"><label for="starsButton0"></label></span>',item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_"+getItemType+"."+classListName,"true")))}function paramsURL(param){return params.get(param)}localStorage.setItem("yqac_menu.menuBool",!1),fetch("https://yaquoiaucine.fr/assets/js/data.json").then(function(response){return response.json()}).then(function(movieIdArray){var data=movieIdArray.data,movieSeenIdMode=localStorage.getItem("yqac_movieSeenIdMode");null===movieSeenIdMode&&localStorage.setItem("yqac_movieSeenIdMode","false");var movieIdArray=JSON.parse(localStorage.getItem("yqac_movieSeenId"))||[],internalIdArray=[];"true"===movieSeenIdMode&&(movieSeenSpan.innerHTML='<i class="fas fa-eye-slash"></i> Masquer les films vus <input id="inputToggle2" type="checkbox" checked><label for="inputToggle2"></label>',movieIdArray.forEach(function(internalId){internalIdArray.push(`https://www.allocine.fr/film/fichefilm_gen_cfilm=${internalId}.html`)}));var dataFilteredWithSeen=data;0<internalIdArray.length&&(dataFilteredWithSeen=data.filter(item=>!internalIdArray.includes(item.allocineData.url)));var cinemaIdParam=paramsURL("cinemaId");params.has("cinemaId")&&localStorage.setItem("yqac_cinemaId",cinemaIdParam),function(cinemaIdParam){var endURLFirstPart="d-0/p-";return fetch(`https://cors-anywhere.herokuapp.com/https://www.allocine.fr/_/showtimes/theater-${cinemaIdParam}/${endURLFirstPart}1/`).then(function(response){return endURLFirstPart=404===response.status?"[d-0/][p-":endURLFirstPart})}(cinemaIdParam=localStorage.getItem("yqac_cinemaId")).then(function(endURLFirstPart){return function(endURLFirstPart,cinemaIdParam){{if(null===cinemaIdParam)return Promise.resolve(null);var endURLLastPart="",baseURL="https://cors-anywhere.herokuapp.com/https://www.allocine.fr/_/showtimes/theater-",URL=`${baseURL}${cinemaIdParam}/${endURLFirstPart}1/${endURLLastPart="[d-0/][p-"===endURLFirstPart?"]":endURLLastPart}`;return fetch(URL).then(function(response){return response.json()}).then(function(response){for(var data=response.results,dataLength=data.length,internalIdArray=[],i=0;i<dataLength;i++){var internalId=data[i].movie.internalId;internalIdArray.push(`https://www.allocine.fr/film/fichefilm_gen_cfilm=${internalId}.html`)}return 15===dataLength?(URL=`${baseURL}${cinemaIdParam}/${endURLFirstPart}2/${endURLLastPart}`,fetch(URL).then(function(response){return response.json()}).then(function(response){for(var data=response.results,dataLength=data.length,i=0;i<dataLength;i++){var internalId=data[i].movie.internalId;internalIdArray.push(`https://www.allocine.fr/film/fichefilm_gen_cfilm=${internalId}.html`)}return 15===dataLength?(URL=`${baseURL}${cinemaIdParam}/${endURLFirstPart}3/${endURLLastPart}`,fetch(URL).then(function(response){return response.json()}).then(function(response){for(var data=response.results,dataLength=data.length,i=0;i<dataLength;i++){var internalId=data[i].movie.internalId;internalIdArray.push(`https://www.allocine.fr/film/fichefilm_gen_cfilm=${internalId}.html`)}return internalIdArray})):internalIdArray})):internalIdArray})}}(endURLFirstPart,cinemaIdParam)}).then(function(result){var tags=dataFilteredWithSeen;null!==result&&(tags=dataFilteredWithSeen.filter(item=>result.includes(item.allocineData.url))),function(){criticArray.forEach(function(button){button.children[0].children[0].addEventListener("click",function(item){localStorage.setItem("yqac_menu.menuBool",!0);var buttonCriticName=item.currentTarget.innerText;"true"==localStorage.getItem("yqac_critic."+buttonCriticName)?(item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_critic."+buttonCriticName,"false"),localbuttonCriticNameNumber--):(item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_critic."+buttonCriticName,"true"),localbuttonCriticNameNumber++);criticLi.children[1].children[0].innerHTML=0<localbuttonCriticNameNumber?'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>":'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonCriticName=button.children[0].children[0].textContent,localbuttonCriticName=localStorage.getItem("yqac_critic."+buttonCriticName);"true"==localbuttonCriticName||null==localbuttonCriticName?(criticNumberBool=!0,localbuttonCriticNameNumber++,null==localbuttonCriticName&&localStorage.setItem("yqac_critic."+buttonCriticName,"true")):"false"==localbuttonCriticName&&button.children[0].children[0].children[0].children[0].removeAttribute("checked")}),criticLi.children[1].children[0].innerHTML=0<localbuttonCriticNameNumber?'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>":'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber criticNumberZero">0</span>';criticNumberBool?(localStorage.setItem("yqac_critic.criticAllocine","true"),criticInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="criticToggle0" type="checkbox" checked="checked"><label for="criticToggle0"></label></span>'):(localStorage.setItem("yqac_critic.criticAllocine","false"),criticInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>')}(),function(markup){gridContainerElement.insertAdjacentHTML("beforeend",markup)}(tags.reduce(function(str,item){return str+function(dataForSingleItem){var genre,key,filmId=dataForSingleItem.id,url=dataForSingleItem.allocineData.url,title3=dataForSingleItem.allocineData.title,creationDate=dataForSingleItem.allocineData.creationDate,duration=dataForSingleItem.imdbData.duration,picture=dataForSingleItem.allocineData.picture,filmTrailerId=dataForSingleItem.allocineData.filmTrailerId,criticNames=dataForSingleItem.allocineData.criticNames,title4=dataForSingleItem.allocineData.critic,user=dataForSingleItem.allocineData.user,isDateIncludedlast7Days=dataForSingleItem.allocineData.userRatingsNumber,title1=dataForSingleItem.allocineData.seasonsCritic,title2=dataForSingleItem.betaseriesData.betaseriesRating,betaseriesId=dataForSingleItem.betaseriesData.betaseriesId,betaseriesDetailsUrl=dataForSingleItem.imdbData.imdbId,title=dataForSingleItem.imdbData.imdbUserRatings,rating3=dataForSingleItem.imdbData.imdbRating,rating2=0,rating1=Object.keys(criticNames).reduce(function(obj,n){var value=criticNames[n];return obj[n]=(n=value,!isNaN(parseFloat(n))&&isFinite(n)?Number(value):value),obj},{}),criticNamesNew=Object.fromEntries(Object.entries(rating1).sort(([,a],[,b])=>b-a)),criticNamesKeysTemp="",criticNamesValuesTemp="";for(key in criticNamesNew)criticNamesKeysTemp+=key.replace(/2$/," Contre")+",";for(key in criticNamesNew)criticNamesValuesTemp+=criticNamesNew[key]+",";""!=user&&(criticNamesKeysTemp+="Note AlloCiné,",criticNamesValuesTemp+=user+",");""!=isDateIncludedlast7Days&&(criticNamesKeysTemp+="Nombre notes AlloCiné,",criticNamesValuesTemp+=isDateIncludedlast7Days+",");""!=title2&&(criticNamesKeysTemp+="Note BetaSeries,",criticNamesValuesTemp+=title2.replace(",",".")+",");""!=rating3&&(criticNamesKeysTemp+="Note IMDb,",criticNamesValuesTemp+=rating3+",");""!=title&&(criticNamesKeysTemp+="Nombre notes IMDb,",criticNamesValuesTemp+=title+",");var criticNamesKeys=criticNamesKeysTemp.replace(/,\s*$/,""),criticNamesValues=criticNamesValuesTemp.replace(/,\s*$/,""),criticActive="",isDateIncludedlast14Days="";void 0!==title1&&(criticActive=dataForSingleItem.allocineData.seasonsCritic.seasonsCriticValue,isDateIncludedlast14Days=dataForSingleItem.allocineData.seasonsCritic.seasonsCriticDetails);var seasonsCriticDetailsArray=getseasonsCritic(isDateIncludedlast14Days),seasonsCriticArray=getseasonsCritic(criticActive),urlId=dataForSingleItem.allocineData.url.match(/=(.*)\./).pop();genre=void 0!==dataForSingleItem.allocineData.genre?void 0!==dataForSingleItem.allocineData.genre.id3?dataForSingleItem.allocineData.genre.id1+","+dataForSingleItem.allocineData.genre.id2+","+dataForSingleItem.allocineData.genre.id3:void 0!==dataForSingleItem.allocineData.genre.id2?dataForSingleItem.allocineData.genre.id1+","+dataForSingleItem.allocineData.genre.id2:void 0!==dataForSingleItem.allocineData.genre.id1?dataForSingleItem.allocineData.genre.id1:"Non renseigné":"Non renseigné";nationality=void 0!==dataForSingleItem.allocineData.nationality?void 0!==dataForSingleItem.allocineData.nationality.id3?dataForSingleItem.allocineData.nationality.id1+","+dataForSingleItem.allocineData.nationality.id2+","+dataForSingleItem.allocineData.nationality.id3:void 0!==dataForSingleItem.allocineData.nationality.id2?dataForSingleItem.allocineData.nationality.id1+","+dataForSingleItem.allocineData.nationality.id2:void 0!==dataForSingleItem.allocineData.nationality.id1?dataForSingleItem.allocineData.nationality.id1:"Non renseignée":"Non renseignée";duration=void 0!==dataForSingleItem.allocineData.duration?dataForSingleItem.allocineData.duration.includes("h ")?dataForSingleItem.allocineData.duration.includes("1h ")?"De 1 à 2 heures":dataForSingleItem.allocineData.duration.includes("2h ")?"De 2 à 3 heures":dataForSingleItem.allocineData.duration.includes("3h ")?"De 3 à 4 heures":dataForSingleItem.allocineData.duration.includes("h ")?"Plus de 4 heures":"Non renseignée":"1 heure et moins":"Non renseignée";var rating="";rating=""!=creationDate?splitDate(creationDate):"01/01/1970";var userActive=new Date,rating1=splitDate(String(userActive));userActive.setDate(userActive.getDate()-7);var isDateIncludedlast7Days=dateCheck(userActive.getMonth()+1+"/"+userActive.getDate()+"/"+userActive.getFullYear(),rating1,rating),title=new Date,title1=splitDate(String(title));title.setDate(title.getDate()-14);isDateIncludedlast14Days=dateCheck(title.getMonth()+1+"/"+title.getDate()+"/"+title.getFullYear(),title1,rating),criticActive=new Date,userActive=splitDate(String(criticActive));criticActive.setDate(criticActive.getDate()-30);rating1=dateCheck(criticActive.getMonth()+1+"/"+criticActive.getDate()+"/"+criticActive.getFullYear(),userActive,rating),title=new Date,title1=splitDate(String(title));title.setDate(title.getDate()-182);var criticActive=dateCheck(title.getMonth()+1+"/"+title.getDate()+"/"+title.getFullYear(),title1,rating),userActive=dateCheck("01/01/2018","12/31/2018",rating),title=dateCheck("01/01/2019","12/31/2019",rating),title1=dateCheck("01/01/2020","12/31/2020",rating),rating=dateCheck("01/01/2021","12/31/2021",rating);dateFormattedFilter=function(isDateIncludedlast7Days,isDateIncludedlast14Days,isDateIncludedlast30Days,isDateIncludedlast6Months,isDateIncluded2018,isDateIncluded2019,isDateIncluded2020,isDateIncluded2021){var text="",text2="";text=isDateIncludedlast7Days?"Les 7 derniers jours,Les 2 dernières semaines,Les 30 derniers jours,Les 6 derniers mois":isDateIncludedlast14Days?"Les 2 dernières semaines,Les 30 derniers jours,Les 6 derniers mois":isDateIncludedlast30Days?"Les 30 derniers jours,Les 6 derniers mois":isDateIncludedlast6Months?"Les 6 derniers mois":"";text2=isDateIncluded2021?"En 2021":isDateIncluded2020?"En 2020":isDateIncluded2019?"En 2019":isDateIncluded2018?"En 2018":"";return""==text?text2:""==text2?text:text+","+text2}(isDateIncludedlast7Days,isDateIncludedlast14Days,rating1,criticActive,userActive,title,title1,rating),critic=function(criticFix,criticNames){var buttonCriticNameNew,critic=0,criticNumber=0,res=0;critic=0<Object.keys(criticNames).length?(criticArray.forEach(function(last7Char){var buttonCriticName=last7Char.children[0].children[0].textContent,localbuttonCriticName=localStorage.getItem("yqac_critic."+buttonCriticName),last7Char=buttonCriticName.substr(buttonCriticName.length-7);buttonCriticNameTemp=" Contre"==last7Char?buttonCriticName.replace(" Contre","2"):buttonCriticName,buttonCriticNameNew=buttonCriticNameTemp.replace("'","&#039;"),"true"==localbuttonCriticName&&null!=criticNames[buttonCriticNameNew]?(res+=parseFloat(criticNames[buttonCriticNameNew]),criticNumber++):null==localbuttonCriticName&&(criticNull=!0)}),criticNull?criticFix:(critic=parseFloat(res/criticNumber))||0):0;return critic}(title4,criticNames),""==user&&(user=0);""==rating3&&(rating3=0);rating1=title2.replace(",",".");""==rating1&&(rating1=0);criticActive=localStorage.getItem("yqac_critic.criticAllocine"),userActive=localStorage.getItem("yqac_critic.usersAllocine"),title=localStorage.getItem("yqac_critic.usersImdb"),title1=localStorage.getItem("yqac_critic.usersBetaseries"),rating=document.querySelector(".nav-item.usersAllocine"),title4=document.querySelector(".nav-item.usersImdb"),title2=document.querySelector(".nav-item.usersBetaseries");ratingTempTotal=0,rating2=0,retrieveLocalData(criticActive)?(rating2++,criticDetails=0==critic?(rating2--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",ratingTempTotal+=parseFloat(critic)):(criticDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"));retrieveLocalData(userActive)?(rating2++,userDetails=0==user?(rating2--,"/"):user+"<span>/5</span>",ratingTempTotal+=parseFloat(user),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber">1</span>'):(userDetails="/",rating.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber criticNumberZero">0</span>');retrieveLocalData(title)?(rating2++,imdbDetails=0==rating3?(rating2--,"/"):rating3+"<span>/10</span>",ratingTempTotal+=parseFloat(rating3/2),imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):(imdbDetails="/",title4.children[0].children[0].children[0].children[0].removeAttribute("checked"),imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>');retrieveLocalData(title1)?(rating2++,betaseriesDetails=0==rating1?(rating2--,"/"):rating1+"<span>/5</span>",ratingTempTotal+=parseFloat(rating1),betaseriesUserRatingLi.children[1].children[0].innerHTML='<i class="icon-betaseries"></i> Spectateurs BetaSeries<span class="criticNumber">1</span>'):(betaseriesDetails="/",title2.children[0].children[0].children[0].children[0].removeAttribute("checked"),betaseriesUserRatingLi.children[1].children[0].innerHTML='<i class="icon-betaseries"></i> Spectateurs BetaSeries<span class="criticNumber criticNumberZero">0</span>');ratingTemp=ratingTempTotal/rating2,ratingTemp=ratingTemp||0,ratingToFixed=ratingTemp.toFixed(2),ratingToFixedOne=parseInt(ratingToFixed,10),rating=ratingToFixed.replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",title=15<title3.length?title3.substring(0,14)+"...":dataForSingleItem.allocineData.title;rating3=title3.replace("&amp;","%26"),title4=rating.replace("<span>/5</span>","").replace(".",",");1==parseInt(filmId)&&(localStorage.setItem("yqac_twitter.title1",rating3),localStorage.setItem("yqac_twitter.rating1",title4));2==parseInt(filmId)&&(localStorage.setItem("yqac_twitter.title2",rating3),localStorage.setItem("yqac_twitter.rating2",title4));3==parseInt(filmId)&&(localStorage.setItem("yqac_twitter.title3",rating3),localStorage.setItem("yqac_twitter.rating3",title4));4==parseInt(filmId)&&(localStorage.setItem("yqac_twitter.title4",rating3),localStorage.setItem("yqac_twitter.rating4",title4));5==parseInt(filmId)&&(localStorage.setItem("yqac_twitter.title5",rating3),localStorage.setItem("yqac_twitter.rating5",title4));6==parseInt(filmId)&&(title1=localStorage.getItem("yqac_twitter.title1"),rating1=localStorage.getItem("yqac_twitter.rating1"),title2=localStorage.getItem("yqac_twitter.title2"),rating2=localStorage.getItem("yqac_twitter.rating2"),title3=localStorage.getItem("yqac_twitter.title3"),rating3=localStorage.getItem("yqac_twitter.rating3"),title4=localStorage.getItem("yqac_twitter.title4"),criticDetailsUrl=localStorage.getItem("yqac_twitter.rating4"),userDetailsUrl=localStorage.getItem("yqac_twitter.title5"),imdbDetailsUrl=localStorage.getItem("yqac_twitter.rating5"),function(title1,rating1,title2,rating2,title3,rating3,title4,rating4,title5,twitterButton){var year=new Date,weekdate=year.getDay(),day=year.getDate(),month=year.getMonth(),year=year.getFullYear(),text="";text+="🏆 Top 5 des films les %2B distribués en 🇫🇷 France le "+["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"][weekdate]+" "+day+" "+["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"][month]+" "+year+" !",text+="%0a%0a🥇 %23"+hashtagFormatted(title1)+" avec "+rating1+"⭐️ /5",text+="%0a🥈 %23"+hashtagFormatted(title2)+" avec "+rating2+"⭐️ /5",text+="%0a🥉 %23"+hashtagFormatted(title3)+" avec "+rating3+"⭐️ /5",text+="%0a4. %23"+hashtagFormatted(title4)+" avec "+rating4+"⭐️ /5",text+="%0a5. %23"+hashtagFormatted(title5)+" avec "+twitterButton+"⭐️ /5",text+="%0a%0ahttps://yaquoiaucine.fr?trier_par=popularite",text+="%0a%0a%23YQAC";var twitterButton=document.querySelector(".fa-twitter"),twitterButtonParent=document.querySelector(".fa-twitter").parentNode;twitterButton.addEventListener("click",function(){twitterButtonParent.href="https://twitter.com/intent/tweet?text="+text},!1)}(title1,rating1,title2,rating2,title3,rating3,title4,criticDetailsUrl,userDetailsUrl,imdbDetailsUrl));var criticDetailsUrl="";criticDetailsUrl="/"==criticDetails?'<a href="javascript:void(0)"><i class="fas fa-newspaper"></i>'+criticDetails+"</a>":'<a href="https://www.allocine.fr/film/fichefilm-'+urlId+'/critiques/presse/" target="_blank"><i class="fas fa-newspaper"></i>'+criticDetails+"</a>";var userDetailsUrl="";userDetailsUrl="/"==userDetails?'<a href="javascript:void(0)"><i class="fas fa-users"></i>'+userDetails+"</a>":'<a href="https://www.allocine.fr/film/fichefilm-'+urlId+'/critiques/" target="_blank"><i class="fas fa-users"></i>'+userDetails+"</a>";var imdbDetailsUrl="";imdbDetailsUrl="/"==imdbDetails?'<a href="javascript:void(0)"><i class="fab fa-imdb"></i>'+imdbDetails+"</a>":'<a href="https://www.imdb.com/title/'+betaseriesDetailsUrl+'/" target="_blank"><i class="fab fa-imdb"></i>'+imdbDetails+"</a>";betaseriesDetailsUrl="";betaseriesDetailsUrl="/"==betaseriesDetails?'<a href="javascript:void(0)"><i class="icon-betaseries"></i>'+betaseriesDetails+"</a>":'<a href="https://www.betaseries.com/'+betaseriesId+'" target="_blank"><i class="icon-betaseries"></i>'+betaseriesDetails+"</a>";return['<figure id="'+urlId+'" class="col-3@xs col-4@sm col-3@md picture-item shuffle-item shuffle-item--visible" data-genre="'+genre+'" data-nationality="'+nationality+'" data-duration="'+duration+'" data-date-formatted="'+dateFormattedFilter+'" data-stars="'+ratingToFixedOne+'" data-critic="'+ratingToFixed+'" data-seasons-critic="'+seasonsCriticArray+'" data-seasons-critic-details="'+seasonsCriticDetailsArray+'" data-critic-keys="'+criticNamesKeys+'" data-critic-values="'+criticNamesValues+'" data-popularity="'+filmId+'" data-creationdate="'+creationDate+'" data-filmTrailerId="'+filmTrailerId+'" style="position: absolute; top: 0px; left: 0px; visibility: visible; will-change: transform; opacity: 1; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-property: transform, opacity;">','<div class="picture-item__inner">','<div class="aspect aspect--16x9">','<div class="aspect__inner">','<a href="javascript:void(0)" title="'+dataForSingleItem.allocineData.title+'">','<img src="'+picture+'" srcset="'+picture+'" alt="'+title+'">','<i class="far fa-check-circle displayNone movieSeenIcon"></i>',"</a>",'<img class="picture-item__blur" src="'+picture+'" srcset="'+picture+'" alt="">','<div class="aspect__inner overlayInfos displayNone">',criticDetailsUrl,userDetailsUrl,imdbDetailsUrl,betaseriesDetailsUrl,"</div>",'<div class="aspect__inner overlayMoreInfos displayNone">','<span class="movieSeen">Vu <i class="far fa-check-circle movieSeenIconSmall"></i></span>','<a href="javascript:void(0)" class="read-more">Plus d\'infos</a>',"</div>","</div>","</div>",'<div class="picture-item__details">','<figcaption class="picture-item__title">','<a href="'+url+'" target="_blank" rel="noopener" title="'+dataForSingleItem.allocineData.title+'">'+title+"</a>","</figcaption>",'<a href="javascript:void(0)">','<p class="picture-item__tags">'+rating+"</p>","</a>","</div>","</div>","</figure>"].join("")}(item)},"")),shuffleInstance=new Shuffle(gridContainerElement,{itemSelector:".picture-item",sizer:".my-sizer-element"}),filters={periodArray:[],genreArray:[],nationalityArray:["No nationality"],durationArray:["No duration"],starsArray:["No stars"]};var slider,shortcutId,i,criticButtonNumber,nationalityNumber,durationNumber,starsNumber,movieIdArray,app,tglNationalityArray=localStorage.getItem("yqac_mode.mode"),tglCriticArray=document.querySelector(".filter-label");tglCriticArray.innerHTML="additive"===tglNationalityArray?'Cumuler les genres <input id="inputToggle" type="checkbox" checked><label for="inputToggle"></label>':'Cumuler les genres <input id="inputToggle" type="checkbox"><label for="inputToggle"></label>',removeItems(),function(){var searchInput=document.querySelector(".js-shuffle-search"),searchParam=paramsURL("recherche");searchInput&&(params.has("recherche")&&setTimeout(function(){handleSearchKeyup(document.querySelector(".js-shuffle-search").value=searchParam)},200),searchInput.addEventListener("input",handleSearchKeyup.bind(this)))}(),function(){var buttonGroup=document.querySelector(".sort-options");buttonGroup&&buttonGroup.addEventListener("change",function(evt){Array.from(evt.currentTarget.children).forEach(function(button){button.querySelector("input").value===evt.target.value?button.classList.add("active"):button.classList.remove("active")});var value=evt.target.value,options={};function sortByPopularity(element){return parseInt(element.getAttribute("data-popularity"))}function sortByCreationDate(element){return Date.parse(splitDate(element.getAttribute("data-creationdate")))}function sortCritic(element){return element.getAttribute("data-critic")}"popularity"===value?("true"===localStorage.getItem("yqac_sort.popularity")?(options={reverse:!0,by:sortByPopularity},evt.target.parentNode.innerHTML='<input id="defaultInputpopularity" type="radio" name="sort-value" value="popularity"> Popularité <i class="fas fa-arrow-up"></i>',localStorage.setItem("yqac_sort.popularity","false")):(options={reverse:!1,by:sortByPopularity},evt.target.parentNode.innerHTML='<input id="defaultInputpopularity" type="radio" name="sort-value" value="popularity"> Popularité <i class="fas fa-arrow-down"></i>',localStorage.setItem("yqac_sort.popularity","true")),localStorage.removeItem("yqac_sort.creationdate"),localStorage.removeItem("yqac_sort.critic"),localStorage.setItem("yqac_sort.defaultInput","popularity")):"creationdate"===value?("true"===localStorage.getItem("yqac_sort.creationdate")?(options={reverse:!1,by:sortByCreationDate},evt.target.parentNode.innerHTML='<input id="defaultInputcreationdate" type="radio" name="sort-value" value="creationdate"> Date <i class="fas fa-arrow-up"></i>',localStorage.setItem("yqac_sort.creationdate","false")):(options={reverse:!0,by:sortByCreationDate},evt.target.parentNode.innerHTML='<input id="defaultInputcreationdate" type="radio" name="sort-value" value="creationdate"> Date <i class="fas fa-arrow-down"></i>',localStorage.setItem("yqac_sort.creationdate","true")),localStorage.removeItem("yqac_sort.popularity"),localStorage.removeItem("yqac_sort.critic"),localStorage.setItem("yqac_sort.defaultInput","creationdate")):"critic"===value&&("true"===localStorage.getItem("yqac_sort.critic")?(options={reverse:!1,by:sortCritic},evt.target.parentNode.innerHTML='<input id="defaultInputcritic" type="radio" name="sort-value" value="critic"> Note <i class="fas fa-arrow-up"></i>',localStorage.setItem("yqac_sort.critic","false")):(options={reverse:!0,by:sortCritic},evt.target.parentNode.innerHTML='<input id="defaultInputcritic" type="radio" name="sort-value" value="critic"> Note <i class="fas fa-arrow-down"></i>',localStorage.setItem("yqac_sort.critic","true")),localStorage.removeItem("yqac_sort.popularity"),localStorage.removeItem("yqac_sort.creationdate"),localStorage.setItem("yqac_sort.defaultInput","critic"));shuffleInstance.sort(options)}.bind(this))}(),function(){var activePeriod=normalizeStr(paramsURL("diffusion"));"les_7_derniers_jours"==activePeriod?activePeriod="Les 7 derniers jours":"les_2_dernieres_semaines"==activePeriod?activePeriod="Les 2 dernières semaines":"les_30_derniers_jours"==activePeriod?activePeriod="Les 30 derniers jours":"les_6_derniers_mois"==activePeriod?activePeriod="Les 6 derniers mois":"en_2021"==activePeriod||"2021"==activePeriod?activePeriod="En 2021":"en_2020"==activePeriod||"2020"==activePeriod?activePeriod="En 2020":"en_2019"==activePeriod||"2019"==activePeriod?activePeriod="En 2019":"en_2018"==activePeriod||"2018"==activePeriod?activePeriod="En 2018":null==(activePeriod=localStorage.getItem("yqac_period.activePeriod"))&&(activePeriod="NoFilter");setTimeout(function(){periodOption.value=activePeriod,periodOption.options[periodOption.selectedIndex].setAttribute("selected","selected"),localStorage.setItem("yqac_period.activePeriod",activePeriod),handleOptionChange()},100)}(),periodOption.addEventListener("change",function(){periodOption.options[periodOption.selectedIndex].setAttribute("selected","selected"),handleOptionChange(),activePeriod=periodOption.options[periodOption.selectedIndex].value,localStorage.setItem("yqac_period.activePeriod",activePeriod)}),genreArray.forEach(function(button){button.addEventListener("click",function(btnGroup){var mode=localStorage.getItem("yqac_mode.mode");null===mode&&localStorage.setItem("yqac_mode.mode","exclusive");var btn=btnGroup.currentTarget,isActive=btn.classList.contains("active"),btnGroup=btn.getAttribute("data-group");"additive"===mode?(isActive?filters.genreArray.splice(filters.genreArray.indexOf(btnGroup),1):filters.genreArray.push(btnGroup),btn.classList.toggle("active")):(function(parent){for(var children=parent.children,i=children.length-1;0<=i;i--)children[i].classList.remove("active")}(btn.parentNode),isActive?(btn.classList.remove("active"),filters.genreArray=[]):(btn.classList.add("active"),filters.genreArray=genreArray.filter(function(button){return button.classList.contains("active")}).map(function(button){return button.getAttribute("data-group")}))),filter()}.bind(this))},!1),document.querySelector("#inputToggle").addEventListener("click",toggleMode,!1),function(){null==localStorage.getItem("darkmode")&&darkmode.toggle();tglDarkmode.addEventListener("click",toggleDarkmode,!1)}(),function(){removeItems();var defaultInput=normalizeStr(paramsURL("trier_par"));"note"==defaultInput?localStorage.setItem("yqac_sort.defaultInput","critic"):"popularite"==defaultInput?localStorage.setItem("yqac_sort.defaultInput","popularity"):"date_de_creation"==defaultInput||"date_creation"==defaultInput||"creation"==defaultInput?localStorage.setItem("yqac_sort.defaultInput","creationdate"):null==(defaultInput=localStorage.getItem("yqac_sort.defaultInput"))&&localStorage.setItem("yqac_sort.defaultInput","critic");defaultInput=localStorage.getItem("yqac_sort.defaultInput");document.getElementById("defaultInput"+defaultInput).click()}(),app=document.querySelectorAll(".overlayMoreInfos"),slider=tns({container:"#slider",items:1,loop:!1,swipeAngle:!1,speed:400,controls:!0,controlsPosition:"bottom",controlsText:["Précédent","Suivant"],nav:!1,mouseDrag:!1,arrowKeys:!0}),app.forEach(function(link){link.addEventListener("click",function(filmTrailerId){if(!(filmTrailerId.target.classList.contains("movieSeen")||filmTrailerId.target.classList.contains("movieSeenIcon")||filmTrailerId.target.classList.contains("movieSeenIconSmall"))){document.querySelector("#overlay").style.display="block",document.body.style.overflow="hidden",slider.goTo(0);var filmTrailerId=link.parentNode.parentNode.parentNode.parentNode.getAttribute("data-filmTrailerId"),criticKeysNew=link.parentNode.parentNode.parentNode.parentNode.getAttribute("data-critic-keys").split(","),criticValuesNew=link.parentNode.parentNode.parentNode.parentNode.getAttribute("data-critic-values").split(",");document.querySelector("iframe").src="https://player.allocine.fr/"+filmTrailerId+".html",""==filmTrailerId?(document.querySelector(".slide-unavailable").style.display="block",document.querySelector("p.slide-available").style.display="none",document.querySelector("div.slide-available").style.display="none"):(document.querySelector(".slide-unavailable").style.display="none",document.querySelector("p.slide-available").style.display="block",document.querySelector("div.slide-available").style.display="block");var htmlTagCriticRecap="<ul>",criticKeysNewLength=0;if((criticKeysNew.includes("Note AlloCiné")||criticKeysNew.includes("Note BetaSeries")||criticKeysNew.includes("Note IMDb"))&&(htmlTagCriticRecap+="<p>Notes des utilisateurs : </p>"),criticKeysNew.includes("Note AlloCiné")&&(htmlTagCriticRecap+="<li>"+convertNumberToStars(parseFloat(criticValuesNew[criticKeysNew.indexOf("Note AlloCiné")])),htmlTagCriticRecap+=" ("+criticValuesNew[criticKeysNew.indexOf("Note AlloCiné")]+"/5) AlloCiné",htmlTagCriticRecap+=" ("+criticValuesNew[criticKeysNew.indexOf("Nombre notes AlloCiné")]+" notes)</li>"),criticKeysNew.includes("Note BetaSeries")&&0!==parseFloat(criticValuesNew[criticKeysNew.indexOf("Note BetaSeries")])&&(htmlTagCriticRecap+="<li>"+convertNumberToStars(parseFloat(criticValuesNew[criticKeysNew.indexOf("Note BetaSeries")]))+" ("+criticValuesNew[criticKeysNew.indexOf("Note BetaSeries")]+"/5) BetaSeries</li>"),criticKeysNew.includes("Note IMDb")&&(htmlTagCriticRecap+="<li>"+convertNumberToStars(parseFloat(criticValuesNew[criticKeysNew.indexOf("Note IMDb")])/2)+" ("+criticValuesNew[criticKeysNew.indexOf("Note IMDb")]+"/10) IMDb",htmlTagCriticRecap+=" ("+criticValuesNew[criticKeysNew.indexOf("Nombre notes IMDb")]+" notes)</li>"),""!=criticKeysNew&&"Note AlloCiné"!=criticKeysNew[0]&&"Nombre notes AlloCiné"!=criticKeysNew[0]&&"Note BetaSeries"!=criticKeysNew[0]&&"Note IMDb"!=criticKeysNew[0]&&"Nombre notes IMDb"!=criticKeysNew[0]){htmlTagCriticRecap+="<p>Notes de la presse : </p>";for(var criticKeysNewLength=criticKeysNew.length,htmlTagCriticRecapIndex=0;htmlTagCriticRecapIndex<criticKeysNewLength;htmlTagCriticRecapIndex++)"Note AlloCiné"!=criticKeysNew[htmlTagCriticRecapIndex]&&"Nombre notes AlloCiné"!=criticKeysNew[htmlTagCriticRecapIndex]&&"Note BetaSeries"!=criticKeysNew[htmlTagCriticRecapIndex]&&"Note IMDb"!=criticKeysNew[htmlTagCriticRecapIndex]&&"Nombre notes IMDb"!=criticKeysNew[htmlTagCriticRecapIndex]&&(htmlTagCriticRecap+="<li>"+convertNumberToStars(parseFloat(criticValuesNew[htmlTagCriticRecapIndex]))+" "+criticKeysNew[htmlTagCriticRecapIndex]+"</li>")}htmlTagCriticRecap+="</ul>",document.querySelector(".slide-critics-recap").innerHTML=htmlTagCriticRecap,document.querySelector(".slide-critics-recap ul").style.height=13<criticKeysNewLength?"80vh":""}},!1)}),document.querySelector("#overlay").addEventListener("click",function(e){"div"!=e.target.localName&&"close-button"!=e.target.id||(document.querySelector("#overlay").style.display="none",document.querySelector("iframe").src="",document.body.style.overflow="scroll")}),shortcutId=document.getElementById("shortcut"),(tags=document.querySelector(".js-shuffle-search")).addEventListener("focus",function(){shortcutId.classList.remove("displayNone")}),tags.addEventListener("focusout",function(){shortcutId.classList.add("displayNone")}),getDarkmodeStatus(),tglCriticArray=Array.from(document.querySelectorAll(".nav-item.mainToggle")),tglNationalityArray=Array.from(document.querySelectorAll(".nav-item.mainToggleNationality")),app=Array.from(document.querySelectorAll(".nav-item.mainToggleDuration")),tags=Array.from(document.querySelectorAll(".nav-item.mainToggleStars")),tglCriticArray.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),tglNationalityArray.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),app.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),tags.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),app=document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)"),app=Array.from(app),i=1,app.forEach(function(button){var ulListLoad=button.children[0].children[0].textContent,secondListItemLoad=localStorage.getItem("yqac_critic."+ulListLoad);button.children[0].children[0].addEventListener("click",function(){var ulList=this.parentNode.parentNode.parentNode,liItem=this.parentNode.parentNode,secondListItem=this.parentNode.parentNode.parentNode.childNodes[1];"checked"==this.children[0].children[0].getAttribute("checked")&&ulList.insertBefore(liItem,secondListItem)},!1),"true"==secondListItemLoad&&(ulListLoad=button.parentNode,secondListItemLoad=button.parentNode.childNodes[i],ulListLoad.insertBefore(button,secondListItemLoad),i++)}),function(){nationalityArray.forEach(function(nationality){nationality.children[0].children[0].addEventListener("click",function(evt){var buttonNationalityName=evt.currentTarget.textContent;"checked"==evt.currentTarget.children[0].children[0].getAttribute("checked")?(filters.nationalityArray.splice(filters.nationalityArray.indexOf(buttonNationalityName),1),evt.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_nationality."+buttonNationalityName,"false"),localbuttonNationalityNameNumber--):(filters.nationalityArray.push(buttonNationalityName),evt.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_nationality."+buttonNationalityName,"true"),localbuttonNationalityNameNumber++);filter(),nationalityLi.children[1].children[0].innerHTML=0<localbuttonNationalityNameNumber?'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber">'+localbuttonNationalityNameNumber+"</span>":'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonNationalityName=nationality.children[0].children[0].textContent,localbuttonNationalityName=localStorage.getItem("yqac_nationality."+buttonNationalityName);"true"==localbuttonNationalityName||null==localbuttonNationalityName?(nationalityNumberBool=!0,localbuttonNationalityNameNumber++,null==localbuttonNationalityName&&localStorage.setItem("yqac_nationality."+buttonNationalityName,"true"),filters.nationalityArray.push(buttonNationalityName),filter()):"false"==localbuttonNationalityName&&nationality.children[0].children[0].children[0].children[0].removeAttribute("checked")}),nationalityLi.children[1].children[0].innerHTML=0<localbuttonNationalityNameNumber?'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber">'+localbuttonNationalityNameNumber+"</span>":'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber criticNumberZero">0</span>';nationalityNumberBool?(localStorage.setItem("yqac_nationality.mainToggleNationality","true"),nationalityInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="nationalityButton0" type="checkbox" checked="checked"><label for="nationalityButton0"></label></span>'):(localStorage.setItem("yqac_nationality.mainToggleNationality","false"),nationalityInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="nationalityButton0" type="checkbox"><label for="nationalityButton0"></label></span>')}(),function(){durationArray.forEach(function(duration){duration.children[0].children[0].addEventListener("click",function(evt){var buttonDurationName=evt.currentTarget.textContent;"checked"==evt.currentTarget.children[0].children[0].getAttribute("checked")?(filters.durationArray.splice(filters.durationArray.indexOf(buttonDurationName),1),evt.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_duration."+buttonDurationName,"false"),localbuttonDurationNameNumber--):(filters.durationArray.push(buttonDurationName),evt.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_duration."+buttonDurationName,"true"),localbuttonDurationNameNumber++);filter(),durationLi.children[1].children[0].innerHTML=0<localbuttonDurationNameNumber?'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber">'+localbuttonDurationNameNumber+"</span>":'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonDurationName=duration.children[0].children[0].textContent,localbuttonDurationName=localStorage.getItem("yqac_duration."+buttonDurationName);"true"==localbuttonDurationName||null==localbuttonDurationName?(durationNumberBool=!0,localbuttonDurationNameNumber++,null==localbuttonDurationName&&localStorage.setItem("yqac_duration."+buttonDurationName,"true"),filters.durationArray.push(buttonDurationName),filter()):"false"==localbuttonDurationName&&duration.children[0].children[0].children[0].children[0].removeAttribute("checked")}),durationLi.children[1].children[0].innerHTML=0<localbuttonDurationNameNumber?'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber">'+localbuttonDurationNameNumber+"</span>":'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber criticNumberZero">0</span>';durationNumberBool?(localStorage.setItem("yqac_duration.mainToggleDuration","true"),durationInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="durationButton0" type="checkbox" checked="checked"><label for="durationButton0"></label></span>'):(localStorage.setItem("yqac_duration.mainToggleDuration","false"),durationInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="durationButton0" type="checkbox"><label for="durationButton0"></label></span>')}(),function(){starsArray.forEach(function(stars){stars.children[0].children[0].addEventListener("click",function(evt){var buttonStarsName=evt.currentTarget.parentNode.parentNode.classList[2].replace("datanumber","");"checked"==evt.currentTarget.children[5].children[0].getAttribute("checked")?(filters.starsArray.splice(filters.starsArray.indexOf(buttonStarsName),1),evt.currentTarget.children[5].children[0].removeAttribute("checked"),localStorage.setItem("yqac_stars."+buttonStarsName,"false"),localbuttonStarsNameNumber--):(filters.starsArray.push(buttonStarsName),evt.currentTarget.children[5].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_stars."+buttonStarsName,"true"),localbuttonStarsNameNumber++);filter(),starsLi.children[1].children[0].innerHTML=0<localbuttonStarsNameNumber?'<i class="fas fa-star fa-lg"></i> Notes<span class="criticNumber">'+localbuttonStarsNameNumber+"</span>":'<i class="fas fa-star fa-lg"></i> Notes<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonStarsName=stars.children[0].children[0].parentNode.parentNode.classList[2].replace("datanumber",""),localbuttonStarsName=localStorage.getItem("yqac_stars."+buttonStarsName);"true"==localbuttonStarsName||null==localbuttonStarsName?(starsNumberBool=!0,localbuttonStarsNameNumber++,null==localbuttonStarsName&&localStorage.setItem("yqac_stars."+buttonStarsName,"true"),filters.starsArray.push(buttonStarsName),filter()):"false"==localbuttonStarsName&&stars.children[0].children[0].children[5].children[0].removeAttribute("checked")}),starsLi.children[1].children[0].innerHTML=0<localbuttonStarsNameNumber?'<i class="fas fa-star fa-lg"></i> Notes<span class="criticNumber">'+localbuttonStarsNameNumber+"</span>":'<i class="fas fa-star fa-lg"></i> Notes<span class="criticNumber criticNumberZero">0</span>';starsNumberBool?(localStorage.setItem("yqac_stars.mainToggleStars","true"),starsInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="starsButton0" type="checkbox" checked="checked"><label for="starsButton0"></label></span>'):(localStorage.setItem("yqac_stars.mainToggleStars","false"),starsInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="starsButton0" type="checkbox"><label for="starsButton0"></label></span>')}(),tags=document.querySelectorAll(".picture-item__tags"),app=document.querySelectorAll(".aspect--16x9"),tags.forEach(function(tag){tag.addEventListener("click",function(){tag.parentNode.parentNode.parentNode.children[0].children[0].children[2].classList.toggle("displayNone")},!1)}),app.forEach(function(tag){tag.addEventListener("mouseenter",function(){tag.children[0].children[2].classList.contains("displayNone")&&tag.children[0].children[3].classList.remove("displayNone")},!1)}),app.forEach(function(tag){tag.addEventListener("mouseleave",function(){tag.children[0].children[2].classList.contains("displayNone")&&tag.children[0].children[3].classList.add("displayNone")},!1)}),document.querySelector(".fa-trash-alt").addEventListener("click",function(){Swal.fire({title:"Êtes-vous sûr de vouloir remettre à zéro vos préférences ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"var(--green-color)",cancelButtonColor:"#d33",confirmButtonText:'<i class="fas fa-thumbs-up"></i> OK',cancelButtonText:'<i class="fas fa-thumbs-down"></i> Annuler'}).then(result=>{result.isConfirmed&&Swal.fire({title:"Vos préférences ont été remises à zéro !",text:"La page en cours va être rechargée...",timer:5e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success"}).then(_result=>{localStorage.clear(),window.location="https://yaquoiaucine.fr"})})},!1),onkeydown=onkeyup=function(e){1==e.ctrlKey&&"f"==e.key||1==e.metaKey&&"f"==e.key?(e.preventDefault(),1==e.ctrlKey&&1==e.metaKey&&"f"==e.key||document.getElementById("filters-search-input").focus()):"Escape"==e.key&&(e.preventDefault(),document.getElementById("filters-search-input").blur(),document.querySelector("#overlay").style.display="none",document.querySelector("iframe").src="",document.body.style.overflow="scroll")},criticButtonNumber=document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)").length,nationalityNumber=document.querySelectorAll(".nav-item.nationalityButton:not(.mainToggleNationality)").length,durationNumber=document.querySelectorAll(".nav-item.durationButton:not(.mainToggleDuration)").length,starsNumber=document.querySelectorAll(".nav-item.starsButton:not(.mainToggleStars)").length,criticToggle0.addEventListener("click",function(){localStorage.setItem("yqac_menu.menuBool",!0),criticArray.forEach(function(button){var buttonCriticName=button.children[0].children[0].textContent;criticNumberBool?(button.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_critic."+buttonCriticName,"false"),localbuttonCriticNameNumber=0,criticLi.children[1].children[0].innerHTML='<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber criticNumberZero">0</span>'):(button.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_critic."+buttonCriticName,"true"),localbuttonCriticNameNumber=criticButtonNumber,criticLi.children[1].children[0].innerHTML='<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>")}),criticNumberBool=!criticNumberBool},!1),nationalityButton0.addEventListener("click",function(){nationalityArray.forEach(function(nationality){var nationalityButtonName=nationality.children[0].children[0].textContent;nationalityNumberBool?(nationality.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_nationality."+nationalityButtonName,"false"),localbuttonNationalityNameNumber=0,nationalityLi.children[1].children[0].innerHTML='<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber criticNumberZero">0</span>',filters.nationalityArray=["No nationality"]):(nationality.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_nationality."+nationalityButtonName,"true"),localbuttonNationalityNameNumber=nationalityNumber,nationalityLi.children[1].children[0].innerHTML='<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber">'+localbuttonNationalityNameNumber+"</span>",filters.nationalityArray.push(nationalityButtonName))}),filter(),nationalityNumberBool=!nationalityNumberBool},!1),durationButton0.addEventListener("click",function(){durationArray.forEach(function(duration){var durationButtonName=duration.children[0].children[0].textContent;durationNumberBool?(duration.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem("yqac_duration."+durationButtonName,"false"),localbuttonDurationNameNumber=0,durationLi.children[1].children[0].innerHTML='<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber criticNumberZero">0</span>',filters.durationArray=["No duration"]):(duration.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_duration."+durationButtonName,"true"),localbuttonDurationNameNumber=durationNumber,durationLi.children[1].children[0].innerHTML='<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber">'+localbuttonDurationNameNumber+"</span>",filters.durationArray.push(durationButtonName))}),filter(),durationNumberBool=!durationNumberBool},!1),starsButton0.addEventListener("click",function(){starsArray.forEach(function(stars){var starsButtonName=stars.classList[2].replace("datanumber","");starsNumberBool?(stars.children[0].children[0].children[5].children[0].removeAttribute("checked"),localStorage.setItem("yqac_stars."+starsButtonName,"false"),localbuttonStarsNameNumber=0,starsLi.children[1].children[0].innerHTML='<i class="fas fa-star fa-lg"></i> Notes<span class="criticNumber criticNumberZero">0</span>',filters.starsArray=["No stars"]):(stars.children[0].children[0].children[5].children[0].setAttribute("checked","checked"),localStorage.setItem("yqac_stars."+starsButtonName,"true"),localbuttonStarsNameNumber=starsNumber,starsLi.children[1].children[0].innerHTML='<i class="fas fa-star fa-lg"></i> Notes<span class="criticNumber">'+localbuttonStarsNameNumber+"</span>",filters.starsArray.push(starsButtonName))}),filter(),starsNumberBool=!starsNumberBool},!1),app=Array.from(document.querySelectorAll(".movieSeen")),movieIdArray=JSON.parse(localStorage.getItem("yqac_movieSeenId"))||[],app.forEach(function(movie){var elementWithmovieId,movieId=movie.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("id");movieIdArray.includes(movieId)&&((elementWithmovieId=document.getElementById(movieId)).childNodes[0].childNodes[1].style.opacity="0.2",elementWithmovieId.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.opacity="0.2",elementWithmovieId.childNodes[0].childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML='Non vu <i class="far fa-times-circle movieSeenIconSmall"></i>',elementWithmovieId.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].classList.remove("displayNone")),movie.addEventListener("click",function(e){if(!e.target.classList.contains("movieSeenIconSmall")){var elementWithmovieId=document.getElementById(movieId);if(movieIdArray.includes(movieId)){var index=(movieIdArray=JSON.parse(localStorage.getItem("yqac_movieSeenId"))||[]).indexOf(movieId);-1<index&&movieIdArray.splice(index,1),localStorage.setItem("yqac_movieSeenId",JSON.stringify(movieIdArray));for(i=0;i<elementWithmovieId.children.length;i++)elementWithmovieId.childNodes[0].childNodes[1].style.opacity="1",elementWithmovieId.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.opacity="1";e.target.closest("figure").childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].classList.add("displayNone"),e.target.innerHTML='Vu <i class="far fa-check-circle movieSeenIconSmall"></i>'}else{(movieIdArray=JSON.parse(localStorage.getItem("yqac_movieSeenId"))||[]).push(movieId),localStorage.setItem("yqac_movieSeenId",JSON.stringify(movieIdArray));for(var i=0;i<elementWithmovieId.children.length;i++)elementWithmovieId.childNodes[0].childNodes[1].style.opacity="0.2",elementWithmovieId.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.opacity="0.2";e.target.closest("figure").childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].classList.remove("displayNone"),e.target.innerHTML='Non vu <i class="far fa-times-circle movieSeenIconSmall"></i>'}}})},!1),app=document.getElementById("typewriter"),new Typewriter(app,{loop:!0,delay:50}).typeString('"T\'as vu quoi comme bon film récemment ?"').pauseFor(2500).deleteAll().typeString('"C\'est quoi LE film à ne pas manquer ?"').pauseFor(2500).deleteAll().typeString('"T\'as vu quoi dernièrement ?"').pauseFor(2500).start()})});autoSuggestInput.addEventListener("input",function(evt){0!=evt.target.value.length?function(inputSearch){inputSearch=encodeURI(inputSearch.target.value);return fetch(`https://cors-anywhere.herokuapp.com/https://www.allocine.fr/_/localization_city/${inputSearch}`).then(function(response){return response.json()}).then(function(response){for(var data=response.values.theaters,dataLength=data.length,theatersName=[],i=0;i<dataLength;i++){var theaterNameCode=data[i].node.internalId,theaterName=data[i].node.name;theatersName.push({theaterNameCode:theaterNameCode,theaterName:theaterName})}return theatersName})}(evt).then(function(autoCompleteResult){document.getElementById("result").innerHTML=autoCompleteResult.map(i=>`<a href="https://yaquoiaucine.fr?cinemaId=${i.theaterNameCode}" class="theaterResLink">${i.theaterName}</a>`).join(""),document.querySelectorAll(".theaterResLink").forEach(item=>{item.addEventListener("click",cinemaName=>{cinemaName=cinemaName.target.innerText;localStorage.setItem("yqac_cinemaName",cinemaName)})})}):document.getElementById("result").innerHTML=""},!1);var checkCrossMark=setInterval(function(){var crossMark=document.querySelector(".theatersSearchSelectionSpan .fa-times");crossMark&&(clearInterval(checkCrossMark),crossMark.onclick=function(){localStorage.removeItem("yqac_cinemaId"),localStorage.removeItem("yqac_cinemaName"),theatersSearchSelection.classList.add("displayNone")})},100);null===(cinemaIdParam=null===cinemaIdParam?paramsURL("cinemaId"):cinemaIdParam)&&!params.has("cinemaId")||(theatersSearchSelection.innerHTML=`<span class="theatersSearchSelectionSpan">${cinemaName=null===cinemaName?"Non renseigné":cinemaName} <i class="fas fa-times fa-lg"></i></span>`,theatersSearchSelection.classList.remove("displayNone")),document.querySelector(".mainButtonTitle2Span").addEventListener("click",function(){"true"===localStorage.getItem("yqac_movieSeenIdMode")?(localStorage.setItem("yqac_movieSeenIdMode","false"),movieSeenSpan.innerHTML='<i class="fas fa-eye-slash"></i> Masquer les films vus <input id="inputToggle2" type="checkbox"><label for="inputToggle2"></label>'):(localStorage.setItem("yqac_movieSeenIdMode","true"),movieSeenSpan.innerHTML='<i class="fas fa-eye-slash"></i> Masquer les films vus <input id="inputToggle2" type="checkbox" checked><label for="inputToggle2"></label>');document.location.reload()},!1)};document.addEventListener("DOMContentLoaded",function(){new hcOffcanvasNav("#main-nav",{customToggle:".fa-bars",width:290,closeOnClick:!1,levelSpacing:0,navTitle:"Préférences",labelBack:"Retour",ariaLabels:{open:"Ouvrir menu",close:"Fermer menu",submenu:"Sous-menu"}}).on("close",function(){"true"==localStorage.getItem("yqac_menu.menuBool")&&(document.location.reload(),localStorage.setItem("yqac_menu.menuBool",!1))}),window.main=new DOMLoaded(document.getElementById("grid"))});